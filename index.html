<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸“å±æç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: #000;
            min-height: 100vh;
            overflow: hidden;
            cursor: pointer;
        }
        
        .single-tip {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #FF0000, #FF4500);
            padding: 50px 80px;
            border-radius: 25px;
            color: white;
            font-size: 32px;
            font-weight: bold;
            box-shadow: 0 0 50px rgba(255,0,0,0.8);
            text-align: center;
            cursor: pointer;
            z-index: 10000;
            border: 5px solid yellow;
            animation: shakeAndGrow 3s ease-in-out infinite;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .fake-close {
            position: absolute;
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            color: #333;
            padding: 8px 20px;
            border-radius: 15px;
            font-size: 14px;
            cursor: pointer;
            border: 2px solid #ccc;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        
        .fake-close:hover {
            background: rgba(255,255,255,1);
            transform: translateX(-50%) scale(1.05);
        }
        
        .countdown {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 15px;
            border-radius: 10px;
            font-size: 14px;
            border: 1px solid yellow;
        }
        
        .batch-tip {
            position: fixed;
            padding: 12px 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 0 20px rgba(255,255,255,0.6);
            font-size: 14px;
            font-weight: bold;
            max-width: 180px;
            word-wrap: break-word;
            cursor: pointer;
            z-index: 1000;
            animation: rapidPop 0.15s ease-out;
            border: 2px solid rgba(255,255,255,0.8);
            color: #000;
            backdrop-filter: blur(2px);
        }
        
        @keyframes shakeAndGrow {
            0% { 
                transform: translate(-50%, -50%) scale(1) rotate(0deg); 
                box-shadow: 0 0 30px red;
            }
            25% { 
                transform: translate(-50%, -50%) scale(1.05) rotate(1deg); 
                box-shadow: 0 0 40px orange;
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.1) rotate(-1deg); 
                box-shadow: 0 0 50px yellow;
            }
            75% { 
                transform: translate(-50%, -50%) scale(1.05) rotate(1deg); 
                box-shadow: 0 0 40px orange;
            }
            100% { 
                transform: translate(-50%, -50%) scale(1) rotate(0deg); 
                box-shadow: 0 0 30px red;
            }
        }
        
        @keyframes rapidPop {
            0% { transform: scale(0) rotate(-15deg); opacity: 0; }
            70% { transform: scale(1.2) rotate(5deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        .close-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 14px;
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 20px;
            z-index: 10000;
            animation: blink 2s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- ç¬¬ä¸€ä¸ªçª—å£ -->
    <div id="singleTip" class="single-tip">
        <div class="countdown" id="countdown">3ç§’åè‡ªåŠ¨å¼€å§‹</div>
        ğŸš¨ ä¸Šå·ä¸Šå·ä¸Šå·ä¸Šå· ğŸš¨<br>
        <span style="font-size: 16px; margin-top: 10px; display: block;">ç‚¹å‡»å¼€å§‹ç–¯ç‹‚è½°ç‚¸</span>
        <div class="fake-close" id="fakeClose">Ã— å…³é—­</div>
    </div>
    
    <div class="close-hint">ğŸ’¡ æç¤ºï¼šæŒ‰ESCé”®å¯å…³é—­æ‰€æœ‰å¼¹çª—</div>

    <script>
        const tips = [
            'ğŸ¯å¼€åˆ€æˆ¿å¼€åˆ€æˆ¿', 'âš”ï¸æ‰“è§‰å—ï¼Ÿ', 'ğŸ³ï¸æ’æ——ï¼ï¼', 'ğŸ›¡ï¸æ‰“æ­¢æˆˆå—ï¼Ÿ',
            'ğŸ‘¥ä¸€èµ·æ‰“æœ¬å—ï¼Ÿ', 'ğŸŒŸæ¥é«˜çº§', 'ğŸ’«ç¾¤ç­–å—ï¼Ÿ', 'ğŸŒ™ç‡•å—ï¼Ÿ',
            'ğŸŒƒä»Šæ™šé€šå®µ', 'âŒä¸å‡†ä¸‹çº¿ï¼', 'ğŸ‰æ€ç”Ÿé“é­', 'ğŸ˜…æˆ‘æ˜¯åºŸç‰©',
            'ğŸ‘‘å¸ˆå‚…åäººæœ¬ï¼', 'ğŸ”¥é€Ÿæ¥æˆ˜åœºï¼', 'ğŸ’åˆ·ç§˜å¢ƒä¸ï¼Ÿ', 'ğŸªæ¥æ¥æ¥PVE',
            'ğŸ†å†²æ’åï¼', 'ğŸ’¤åˆ«ç¡äº†ï¼', 'ğŸš€ç´§æ€¥é›†åˆï¼', 'ğŸ’¥é€Ÿæˆ˜é€Ÿå†³ï¼',
            'ğŸæœ‰ç¦åˆ©ï¼', 'âš¡é—ªç”µæˆ˜ï¼', 'ğŸŒªï¸é£æš´æ¥è¢­ï¼', 'ğŸ’£çˆ†ç ´å‡†å¤‡ï¼',
            'ğŸ®ä¸Šçº¿ä¸Šçº¿ï¼', 'ğŸ’€é€Ÿæ¥é€æ­»ï¼', 'ğŸ‘»é¬¼æ··æ—¶é—´ï¼', 'ğŸŒˆå½©è™¹å±ï¼',
            'ğŸ‰å¼€æ´¾å¯¹ï¼', 'ğŸ’ƒè·³èˆæ—¶é—´ï¼', 'ğŸµBGMèµ·ï¼', 'ğŸŒŸMVPç»“ç®—æ—¶åˆ»ï¼'
        ];

        const colors = [
            '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7',
            '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E9',
            '#F8C471', '#82E0AA', '#F1948A', '#85C1E9', '#D7BDE2',
            '#A9DFBF', '#F9E79F', '#D5DBDB', '#FAD7A0', '#ABEBC6'
        ];

        let isBatchStarted = false;
        let createInterval;
        let rapidInterval;
        let windowCount = 0;
        let countdownTimer;
        let countdownValue = 3;
        const maxWindows = 80;

        // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
        function updateCountdown() {
            const countdownElement = document.getElementById('countdown');
            countdownElement.textContent = `${countdownValue}ç§’åè‡ªåŠ¨å¼€å§‹`;
            countdownValue--;
            
            if (countdownValue < 0) {
                clearInterval(countdownTimer);
                startRapidFireProgrammatically();
            }
        }

        // å¼€å§‹å€’è®¡æ—¶
        countdownTimer = setInterval(updateCountdown, 1000);

        // å‡è£…å…³é—­æŒ‰é’® - ç‚¹å‡»ååŠ é€Ÿè¿è¡Œ
        document.getElementById('fakeClose').addEventListener('click', function(e) {
            e.stopPropagation();
            // ç‚¹å‡»å‡å…³é—­æŒ‰é’®åç«‹å³å¼€å§‹å¼¹çª—è½°ç‚¸
            clearInterval(countdownTimer);
            startRapidFireProgrammatically();
        });

        // ç‚¹å‡»ä¸»çª—å£å¼€å§‹å¼¹çª—
        document.getElementById('singleTip').addEventListener('click', function(e) {
            if (e.target === this || e.target.tagName === 'SPAN') {
                clearInterval(countdownTimer);
                startRapidFireProgrammatically();
            }
        });

        function startRapidFireProgrammatically() {
            const singleTip = document.getElementById('singleTip');
            singleTip.style.animation = 'rapidPop 0.1s ease-out reverse';
            document.querySelector('.close-hint').style.display = 'none';
            
            setTimeout(() => {
                if (singleTip.parentNode) {
                    singleTip.parentNode.removeChild(singleTip);
                }
                startRapidFire();
            }, 100);
        }

        function startRapidFire() {
            if (isBatchStarted) return;
            isBatchStarted = true;
            
            // æé€Ÿåˆ›å»ºå¼¹çª— - æ¯50msåˆ›å»ºä¸€æ‰¹
            createInterval = setInterval(() => {
                // æ¯æ¬¡åˆ›å»º3-6ä¸ªå¼¹çª—
                const batchCount = Math.floor(Math.random() * 4) + 3;
                for (let i = 0; i < batchCount; i++) {
                    if (windowCount < maxWindows) {
                        setTimeout(() => createRapidWindow(), i * 10);
                    }
                }
            }, 50);
            
            // è¶…é«˜é€Ÿè¿ç»­åˆ›å»º - æ¯20msåˆ›å»º1ä¸ª
            rapidInterval = setInterval(() => {
                if (windowCount < maxWindows * 0.8) {
                    createRapidWindow();
                }
            }, 20);
            
            // è‡ªåŠ¨æ¸…ç†ï¼Œä¿æŒæµç•…
            setInterval(cleanupWindows, 1000);
        }

        function createRapidWindow() {
            const tip = tips[Math.floor(Math.random() * tips.length)];
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            const windowDiv = document.createElement('div');
            windowDiv.className = 'batch-tip';
            windowDiv.textContent = tip;
            windowDiv.style.background = color;
            windowDiv.style.animation = 'rapidPop 0.1s ease-out';
            
            // å®Œå…¨éšæœºä½ç½®ï¼Œè¦†ç›–æ•´ä¸ªå±å¹•
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 60);
            windowDiv.style.left = x + 'px';
            windowDiv.style.top = y + 'px';
            
            // éšæœºæ—‹è½¬
            const rotate = -5 + Math.random() * 10;
            windowDiv.style.transform += ` rotate(${rotate}deg)`;
            
            document.body.appendChild(windowDiv);
            windowCount++;
            
            // ç‚¹å‡»å…³é—­å•ä¸ªå¼¹çª—
            windowDiv.addEventListener('click', function(e) {
                e.stopPropagation();
                this.style.animation = 'rapidPop 0.1s ease-out reverse';
                setTimeout(() => {
                    if (this.parentNode) {
                        this.parentNode.removeChild(this);
                        windowCount--;
                    }
                }, 100);
            });
            
            // 5ç§’åè‡ªåŠ¨æ¶ˆå¤±
            setTimeout(() => {
                if (windowDiv.parentNode) {
                    windowDiv.style.opacity = '0';
                    windowDiv.style.transform += ' scale(0.5)';
                    setTimeout(() => {
                        if (windowDiv.parentNode) {
                            windowDiv.parentNode.removeChild(windowDiv);
                            windowCount--;
                        }
                    }, 200);
                }
            }, 5000);
        }

        function cleanupWindows() {
            const windows = document.querySelectorAll('.batch-tip');
            if (windows.length > maxWindows * 0.9) {
                // ç§»é™¤ä¸€äº›æ—§å¼¹çª—
                const toRemove = Math.floor(windows.length * 0.3);
                for (let i = 0; i < toRemove && i < windows.length; i++) {
                    if (windows[i].parentNode) {
                        windows[i].parentNode.removeChild(windows[i]);
                        windowCount--;
                    }
                }
            }
        }

        // æŒ‰ESCé”®å…³é—­æ‰€æœ‰å¼¹çª—
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                clearInterval(createInterval);
                clearInterval(rapidInterval);
                const windows = document.querySelectorAll('.batch-tip');
                windows.forEach(window => {
                    window.style.animation = 'rapidPop 0.1s ease-out reverse';
                    setTimeout(() => {
                        if (window.parentNode) {
                            window.parentNode.removeChild(window);
                        }
                    }, 100);
                });
                windowCount = 0;
            }
        });

        // ç‚¹å‡»ç©ºç™½å¤„ä¹Ÿå¯ä»¥å…³é—­æ‰€æœ‰
        document.addEventListener('click', function(e) {
            if (e.target === document.body) {
                const event = new KeyboardEvent('keydown', { key: 'Escape' });
                document.dispatchEvent(event);
            }
        });
    </script>
</body>
</html>
